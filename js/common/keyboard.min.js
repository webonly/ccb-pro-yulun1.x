$(function(){$(".numkeyboard").ioskeyboard({keyboardRadix:80,keyboardRadixMin:40,keyboardRadixChange:!0,clickeve:!0,colorchange:!0,colorchangeStep:1,colorchangeMin:154}),$(".login-main").click(function(a){"username"!=a.target.id&&"password"!=a.target.id&&$("#robot-keyboard").css({display:"none"})}),$(".backmain").click(function(a){"addrobot"!=a.target.id&&"search"!=a.target.id&&$("#robot-keyboard").css({display:"none"})})}),function(a){a.fn.ioskeyboard=function(b){var e,c={keyboardRadix:100,keyboardRadixMin:60,keyboardRadixChange:!0,clickeve:!0,colorchange:!0,colorchangeStep:1,colorchangeMin:154},b=a.extend(c,b),d=0,f=b.keyboardRadix,g=b.keyboardRadixMin,h=b.colorchange,i=b.colorchangeStep,j=b.colorchangeMin,k=!1,l=!1,m=!1,o=!1;g>f&&(f=g),this.each(function(){function s(a){var b={};for(b.x=a.offsetLeft,b.y=a.offsetTop;a.offsetParent&&(b.x=b.x+a.offsetParent.offsetLeft,b.y=b.y+a.offsetParent.offsetTop,a!=document.getElementsByTagName("body")[0]);)a=a.offsetParent;return b}function t(){e.val("")}function u(){var a=e.val();a.length>0&&(a=a.substring(0,a.length-1),e.val(a))}function v(a){var b=e.val();b+=a,e.val(b),e[0].focus()}function w(){n.css({display:"none"})}function x(){var c,h,b=q,d=n,e=etx=curX=0,f=+d.css("font-size").split("px")[0];b.mousedown(function(b){k=!0,e=b.pageX,f=+d.css("font-size").split("px")[0],c=a(this).attr("id"),b.preventDefault()}),a("body").mousemove(function(a){if(k){var b=a.pageX-e;"robot-keyboard_left"===c&&(h=f-Math.ceil(b/10)),"robot-keyboard_right"===c&&(h=f+Math.ceil(b/10)),g>h&&(h=g),d.css({"font-size":h}),a.preventDefault()}}),a("body").mouseup(function(a){e=etx=curX=0,k=!1})}function y(){var d,h,b=q,c=n,e=etx=curX=0,f=+c.css("font-size").split("px")[0];b.on("touchstart",function(b){var b=b.originalEvent;l=!0,curX=0,d=a(this).attr("id"),f=+c.css("font-size").split("px")[0],e=b.touches[0].pageX,sty=b.touches[0].pageY}),b.on("touchmove",function(a){if(l){var a=a.originalEvent;curX=a.touches[0].pageX-e,"robot-keyboard_left"===d&&(h=f-Math.ceil(curX/10)),"robot-keyboard_right"===d&&(h=f+Math.ceil(curX/10)),g>h&&(h=g),c.css({"font-size":h}),a.preventDefault()}}),b.on("touchend",function(a){e=etx=curX=0,l=!1})}function z(){var b=n,c=etx=curX=sty=ety=curY=0,d=+b.css("right").split("px")[0],e=+b.css("bottom").split("px")[0];b.mousedown(function(a){o||(m=!0),c=a.pageX,sty=a.pageY,d=+b.css("right").split("px")[0],e=+b.css("bottom").split("px")[0],a.preventDefault()}),a("body").mousemove(function(a){if(m&&!k){var f=a.pageX-c,g=a.pageY-sty;b.css({right:d-f,bottom:e-g}),a.preventDefault()}}),a("body").mouseup(function(a){c=etx=curX=sty=ety=curY=0,m=!1})}function A(){var a=n,b=sty=etx=ety=curX=curY=0,c=!1,d=+a.css("right").split("px")[0],e=+a.css("bottom").split("px")[0];a.on("touchstart",function(f){var f=f.originalEvent;c=!0,curX=curY=0,d=+a.css("right").split("px")[0],e=+a.css("bottom").split("px")[0],b=f.touches[0].pageX,sty=f.touches[0].pageY}),a.on("touchmove",function(f){if(c&&!l){var f=f.originalEvent;f.preventDefault(),curX=f.touches[0].pageX-b,curY=f.touches[0].pageY-sty,a.css({right:d-curX,bottom:e-curY})}}),a.on("touchend",function(a){b=etx=curX=sty=ety=curY=0,c=!1})}function B(a,b){var c=null;typeof document.createEvent;if("function"==typeof document.createEvent)try{c=document.createEvent("KeyEvents"),c.initKeyEvent("keypress",!0,!0,window,!1,!1,!1,!1,b,b),a.dispatchEvent(c)}catch(e){}else document.createEventObject&&(c=document.createEventObject(),c.bubbles=!0,c.cancelable=!0,c.view=window,c.ctrlKey=!1,c.altKey=!1,c.shiftKey=!1,c.metaKey=!1,c.keyCode=b,a.fireEvent("onkeypress",c))}d++,2>d&&a("body").append("<ul id='robot-keyboard' style='color:#000' ><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>0</li><li>\u2190</li><li>Q</li><li>W</li><li>E</li><li>R</li><li>T</li><li>Y</li><li>U</li><li>I</li><li>O</li><li>P</li><li></li><li>A</li><li>S</li><li>D</li><li>F</li><li>G</li><li>H</li><li>J</li><li>K</li><li>L</li><li>Exit</li><li>CapsLock</li><li>Z</li><li>X</li><li>C</li><li>V</li><li>B</li><li>N</li><li>M</li><li><span>-</span><span>_</span></li><li><span>/</span><span>.</span></li><li>Clear</li><div id='robot-keyboard_left'></div><div id='robot-keyboard_right'></div></ul>");var c=a(this),n=a("#robot-keyboard"),p=n.children("li"),q=n.children("div");n.css({"font-size":f+"px"}),n.css({position:"fixed",right:"2em",bottom:"8em"}),w();var r=!1;2>d&&(b.keyboardRadixChange&&(x(),y()),n.dblclick(function(){o?o=!1:(n.css({position:"fixed",right:"2em",bottom:"8em"}),o=!0)}),p.click(function(b){var c=a(this),d=c.text(),f=!0;if("CapsLock"===d&&(e[0].focus(),r?(c.css({background:"rgba(255,255,255,.9)"}),r=!1):(c.css({background:"rgba(188,188,188,.5)"}),r=!0),f=!1),("Exit"===d||d.length<1)&&(B(e[0],13),w(),f=!1),"\u2190"===d&&(e[0].focus(),u(),f=!1),"Clear"===d&&(e[0].focus(),t(),f=!1),f&&(r?2===d.length&&(d=d.substring(0,1)):d=2===d.length?d.substring(1,2):d.toLowerCase(),v(d),h)){var g=a(this).css("background").split(",")[0].split("(")[1],k=g-i;j>k&&(k=j,alert("min")),a(this).css("background","rgba("+k+","+k+","+k+",.9)")}}),n.children("li:eq(21)").mousedown(function(b){a(this).css({top:"4.6em","box-shadow":"inset 0 0.04em 0 rgba(0,0,0,.5)"}),n.children("li:eq(31)").css({top:"0.1em","box-shadow":"inset 0 0em 0 rgba(0,0,0,.5)"})}).mouseup(function(b){a(this).css({top:"4.5em","box-shadow":" inset 0 0em 0 rgba(0,0,0,.5)"}),n.children("li:eq(31)").css({top:"0px","box-shadow":" inset 0 0em 0 rgba(0,0,0,.5)"})}),n.children("li:eq(31)").mousedown(function(b){a(this).css({top:"0.1em","box-shadow":"inset 0 0em 0 rgba(0,0,0,.5)"}),n.children("li:eq(21)").css({top:"4.6em","box-shadow":"inset 0 0.04em 0 rgba(0,0,0,.5)"})}).mouseup(function(b){a(this).css({top:"0px","box-shadow":" inset 0 0em 0 rgba(0,0,0,.5)"}),n.children("li:eq(21)").css({top:"4.5em","box-shadow":" inset 0 0em 0 rgba(0,0,0,.5)"})})),c.focus(function(a){e=c;s(this);"none"==n.css("display")&&(n.css({display:"block"}),z(),A())}),b.clickeve&&c.click(function(){e=c;s(this);"none"==n.css("display")&&(n.css({display:"block"}),z(),A())})})}}(jQuery);